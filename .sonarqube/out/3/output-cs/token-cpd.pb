ï

NC:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Controllers\BaseController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
public 

class 
BaseController 
:  !
ControllerBase" 0
{		 
	protected

 
readonly

 !
IAuthorizationService

 0
_authorization

1 ?
;

? @
	protected 
readonly 
	IMediator $
	_mediator% .
;. /
	protected 
readonly #
UslugaBIRzewnPublClient 2
	_uslugaBi3 <
;< =
public 
BaseController 
( !
IAuthorizationService 3
authorization4 A
,A B
	IMediatorC L
mediatorM U
,U V
ISetupBindingW d
bindinge l
)l m
{ 	
_authorization 
= 
authorization *
;* +
	_mediator 
= 
mediator  
;  !
	_uslugaBi 
= 
new #
UslugaBIRzewnPublClient 3
(3 4
)4 5
;5 6
binding 
. 
Binding 
( 
	_uslugaBi %
)% &
;& '
} 	
} 
} ´
UC:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Controllers\OsobaPrawnaController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class !
OsobaPrawnaController &
:' (
BaseController) 7
{ 
public !
OsobaPrawnaController $
($ %!
IAuthorizationService% :
authorization; H
,H I
	IMediatorJ S
mediatorT \
,\ ]
ISetupBinding^ k
bindingl s
)s t
: 
base 
( 
authorization  
,  !
mediator" *
,* +
binding, 3
)3 4
{ 	
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
OsobaPrawna' 2
>2 3
>3 4
	GetSingle5 >
(> ?
string? E
apiKeyF L
,L M
stringN T
regonU Z
)Z [
{ 	
if 
( 
! 
regon 
. 
IsCorrectRegon %
(% &
)& '
)' (
return) /
UnprocessableEntity0 C
(C D
$strD k
)k l
;l m
if 
( 
! 
_authorization 
.  
Login  %
(% &
apiKey& ,
,, -
	_uslugaBi. 7
)7 8
)8 9
return: @
UnauthorizedA M
(M N
$strN d
)d e
;e f
var!! 
request!! 
=!! 
new!! 
GetOsobaPrawnaQuery!! 1
(!!1 2
)!!2 3
{"" 
Regon## 
=## 
regon## 
,## 
GusServices$$ 
=$$ 
	_uslugaBi$$ '
}%% 
;%% 
var'' 
response'' 
='' 
await'' !
	_mediator''" +
.''+ ,
Send'', 0
(''0 1
request''1 8
)''8 9
;''9 :
return** 
response** 
.** 
	IsCorrect** %
(**% &
)**& '
?**( )
Ok*** ,
(**, -
response**- 5
)**5 6
:**7 8
NotFound**9 A
(**A B
$str**B W
)**W X
;**X Y
}++ 	
},, 
}-- ¹
MC:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Controllers\PkdController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
PkdController 
:  
BaseController! /
{ 
public 
PkdController 
( !
IAuthorizationService 2
authorization3 @
,@ A
	IMediatorB K
mediatorL T
,T U
ISetupBindingV c
bindingd k
)k l
: 
base 
( 
authorization  
,  !
mediator" *
,* +
binding, 3
)3 4
{ 	
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
List' +
<+ ,
Pkd, /
>/ 0
>0 1
>1 2
GetAll3 9
(9 :
string: @
apiKeyA G
,G H
stringI O
regonP U
)U V
{ 	
if 
( 
! 
regon 
. 
IsCorrectRegon %
(% &
)& '
)' (
return) /
UnprocessableEntity0 C
(C D
$strD k
)k l
;l m
if 
( 
! 
_authorization 
.  
Login  %
(% &
apiKey& ,
,, -
	_uslugaBi. 7
)7 8
)8 9
return: @
UnauthorizedA M
(M N
$strN d
)d e
;e f
var   
request   
=   
new   
GetPkdQuery   )
(  ) *
)  * +
{!! 
Regon"" 
="" 
regon"" 
,"" 
GusServices## 
=## 
	_uslugaBi## '
}$$ 
;$$ 
var&& 
response&& 
=&& 
await&& !
	_mediator&&" +
.&&+ ,
Send&&, 0
(&&0 1
request&&1 8
)&&8 9
;&&9 :
return)) 
response)) 
.)) 
	IsCorrect)) %
())% &
)))& '
?))( )
Ok))* ,
()), -
response))- 5
)))5 6
:))7 8
NotFound))9 A
())A B
$str))B W
)))W X
;))X Y
}** 	
}++ 
},, –
QC:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Controllers\PodmiotController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
PodmiotController "
:# $
BaseController% 3
{ 
public 
PodmiotController  
(  !!
IAuthorizationService! 6
authorization7 D
,D E
	IMediatorF O
mediatorP X
,X Y
ISetupBindingZ g
bindingh o
)o p
: 
base 
( 
authorization  
,  !
mediator" *
,* +
binding, 3
)3 4
{ 	
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
Podmiot' .
>. /
>/ 0
	GetSingle1 :
(: ;
string; A
apiKeyB H
,H I
stringJ P
nipQ T
)T U
{ 	
if 
( 
! 
nip 
. 
IsCorrectNip !
(! "
)" #
)# $
return% +
UnprocessableEntity, ?
(? @
$str@ f
)f g
;g h
if 
( 
! 
_authorization 
.  
Login  %
(% &
apiKey& ,
,, -
	_uslugaBi. 7
)7 8
)8 9
return: @
UnauthorizedA M
(M N
$strN d
)d e
;e f
var 
request 
= 
new 
GetPodmiotQuery -
(- .
). /
{   
Nip!! 
=!! 
nip!! 
,!! 
GusServices"" 
="" 
	_uslugaBi"" '
}## 
;## 
var%% 
response%% 
=%% 
await%% !
	_mediator%%" +
.%%+ ,
Send%%, 0
(%%0 1
request%%1 8
)%%8 9
;%%9 :
return(( 
response(( 
.(( 
	IsCorrect(( %
(((% &
)((& '
?((( )
Ok((* ,
(((, -
response((- 5
)((5 6
:((7 8
NotFound((9 A
(((A B
$str((B U
)((U V
;((V W
})) 	
}** 
}++ á
SC:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Controllers\WspolnicyController.cs
	namespace 	
WebAPI
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
WspolnicyController $
:% &
BaseController' 5
{ 
public 
WspolnicyController "
(" #!
IAuthorizationService# 8
authorization9 F
,F G
	IMediatorH Q
mediatorR Z
,Z [
ISetupBinding\ i
bindingj q
)q r
: 
base 
( 
authorization  
,  !
mediator" *
,* +
binding, 3
)3 4
{ 	
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
List' +
<+ ,
WspolnicyController, ?
>? @
>@ A
>A B
GetAllC I
(I J
stringJ P
apiKeyQ W
,W X
stringY _
regon` e
)e f
{ 	
if 
( 
! 
regon 
. 
IsCorrectRegon %
(% &
)& '
)' (
return) /
UnprocessableEntity0 C
(C D
$strD k
)k l
;l m
if 
( 
! 
_authorization 
.  
Login  %
(% &
apiKey& ,
,, -
	_uslugaBi. 7
)7 8
)8 9
return: @
UnauthorizedA M
(M N
$strN d
)d e
;e f
var!! 
request!! 
=!! 
new!! 
GetWspolnicyQuery!! /
(!!/ 0
)!!0 1
{"" 
Regon## 
=## 
regon## 
,## 
GusServices$$ 
=$$ 
	_uslugaBi$$ '
}%% 
;%% 
var'' 
response'' 
='' 
await'' !
	_mediator''" +
.''+ ,
Send'', 0
(''0 1
request''1 8
)''8 9
;''9 :
return** 
response** 
.** 
	IsCorrect** %
(**% &
)**& '
?**( )
Ok*** ,
(**, -
response**- 5
)**5 6
:**7 8
NotFound**9 A
(**A B
$str**B W
)**W X
;**X Y
}++ 	
},, 
}-- û
;C:\Users\adam\source\repos\GusRestAPI\src\WebAPI\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddApplication 
(  
)  !
;! "
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder		 
.		 
Services		 
.		 #
AddEndpointsApiExplorer		 (
(		( )
)		) *
;		* +
builder

 
.

 
Services

 
.

 
AddSwaggerGen

 
(

 
)

  
;

  !
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseHttpsRedirection 
( 
) 
; 
app 
. 
UseAuthorization 
( 
) 
; 
app 
. 
MapControllers 
( 
) 
; 
app 
. 
Run 
( 
) 	
;	 
